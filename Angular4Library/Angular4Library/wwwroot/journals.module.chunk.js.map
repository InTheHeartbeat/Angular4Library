{"version":3,"sources":["C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/journals/app.journals.component.html","C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/journals/app.journals.component.min.css","C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/journals/app.journals.component.ts","C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/put/app.journals.put.component.html","C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/put/app.journals.put.component.min.css","C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/put/app.journals.put.component.ts","C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/journals.module.ts"],"names":[],"mappings":"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","file":"journals.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"nav-sector-controls\\\" [hidden]=\\\"!currentUser.isAdmin\\\">\\n    <div class=\\\"raw-xml-switch\\\" [hidden]=\\\"!exportMode\\\">\\n        <h4>Raw</h4>\\n        <label class=\\\"checkbox-switch\\\">\\n            <input type=\\\"checkbox\\\" [(ngModel)]=\\\"isXml\\\">\\n            <span class=\\\"slider round\\\"></span>\\n        </label>\\n        <h4>Xml</h4>\\n    </div>\\n    <span href=\\\"#\\\" class=\\\"btn btn-icon\\\" id=\\\"btn-import-journals\\\" (click)=\\\"uploadFile.click()\\\">\\n        <span class=\\\"icon ic-import\\\"></span>\\n    </span>\\n    <input type=\\\"file\\\" name=\\\"upload\\\" #uploadFile (change)=\\\"importChange(uploadFile.files)\\\" id=\\\"uploadFile\\\" style=\\\"display: none\\\" />\\n    <span class=\\\"btn btn-icon\\\" href=\\\"#\\\">\\n        <span class=\\\"icon ic-accept\\\" [hidden]=\\\"!exportMode\\\" (click)=\\\"tryExport()\\\"></span>\\n        <span class=\\\"icon ic-export\\\" [hidden]=\\\"exportMode\\\" (click)=\\\"switchExportMode()\\\"></span>\\n    </span>\\n    <span class=\\\"btn btn-icon lowered\\\" [hidden]=\\\"!exportMode\\\">\\n        <span class=\\\"icon ic-close\\\" (click)=\\\"switchExportMode()\\\"></span>\\n    </span>\\n    <a class=\\\"btn btn-icon\\\" [routerLink]=\\\"['/journals/put']\\\">\\n        <span class=\\\"icon ic-add\\\"></span>\\n    </a>    \\n</div>\\n<div class=\\\"windows-container\\\">\\n    <div class=\\\"windows-grid\\\">        \\n        <div [ngClass]=\\\"{'disabled': busyId === journal.id}\\\" class=\\\"window window-hovered-shadow\\\" *ngFor=\\\"let journal of journals\\\">\\n            <div class=\\\"window-header\\\">                   \\n                <div class=\\\"window-header-icon\\\"><span class=\\\"icon ic-journal\\\"></span></div>\\n                <div class=\\\"window-header-content\\\"><h4 class=\\\"entity\\\">{{journal.date}} - {{journal.title}}</h4></div>                    \\n                <div class=\\\"window-header-control\\\" [hidden]=\\\"!currentUser.isAdmin\\\">\\n                    <span class=\\\"btn btn-icon\\\" (click)=\\\"editJournalForm(journal.id)\\\">\\n                        <span class=\\\"icon ic-edit\\\"></span>\\n                    </span>                        \\n                </div>\\n                <div class=\\\"window-header-control\\\" [hidden]=\\\"!currentUser.isAdmin\\\">\\n                    <span class=\\\"btn btn-icon\\\" (click)=\\\"tryRemoveJournal(journal.id)\\\">\\n                        <span class=\\\"icon ic-remove\\\"></span>\\n                    </span>\\n                </div>\\n                <div class=\\\"window-header-control\\\" [hidden]=\\\"!exportMode\\\">\\n                    <input type=\\\"checkbox\\\" class=\\\"checkbox-default\\\" id=\\\"cb-sellected-{{journal.id}}\\\" [(ngModel)]=\\\"journal.selected\\\">\\n                    <label for=\\\"cb-sellected-{{journal.id}}\\\" class=\\\"checkbox-default-label\\\"></label>\\n                </div>\\n            </div>\\n            <div class=\\\"window-content entity-content\\\">                \\n                <div class=\\\"entity-photo\\\" [ngStyle]=\\\"{ 'background-image': 'url(' + journal.photoPath + ')'}\\\">                    \\n                </div>              \\n                <table>  \\n                    <tr>\\n                        <th><span>Title:</span></th>\\n                        <td colspan=\\\"2\\\"><span>{{journal.title}}</span></td>\\n                    </tr>\\n                    <tr>\\n                        <th><span>Date:</span></th>\\n                        <td colspan=\\\"2\\\"><span>{{journal.date}}</span></td>\\n                    </tr>\\n                    <tr><td><br/></td></tr>\\n                    <tr>\\n                        <th><span>Theme:</span></th>\\n                        <td colspan=\\\"2\\\"><span>{{journal.theme}}</span></td>\\n                    </tr>\\n                    <tr>\\n                        <th><span>Periodicity:</span></th>\\n                        <td colspan=\\\"2\\\"><span>{{journal.periodicity}}</span></td>\\n                    </tr>\\n                    <tr>\\n                        <th><span>Pages:</span></th>\\n                        <td colspan=\\\"2\\\"><span>{{journal.pages}}</span></td>\\n                    </tr>\\n                    <tr>\\n                        <th><span>Available:</span></th>\\n                        <td colspan=\\\"2\\\"><span>{{journal.amount}}</span></td>\\n                    </tr>\\n                    <tr><td><br /></td></tr>\\n                    <tr>\\n                        <th><span>Price:</span></th>\\n                        <td colspan=\\\"2\\\">\\n                            <span>{{journal.price}}$</span>\\n                        </td>\\n                        <td>\\n                            <a class=\\\"btn btn-icon btn-buy\\\" (click)=\\\"addToBasket(journal.id)\\\">\\n                                <span class=\\\"icon ic-buy\\\"></span>\\n                            </a>\\n                        </td>\\n                    </tr>\\n                </table>                                                                               \\n            </div>            \\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/journals/app.journals.component.html\n// module id = ../../../../../src/app/modules/journals/components/journals/app.journals.component.html\n// module chunks = journals.module","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/journals/app.journals.component.min.css\n// module id = ../../../../../src/app/modules/journals/components/journals/app.journals.component.min.css\n// module chunks = journals.module","import {Component} from '@angular/core';\nimport {Router} from '@angular/router';\nimport { AccountService } from '../../../../shared/services/account.service';\r\nimport { JournalsService } from '../../../../shared/services/journals.service';\r\nimport { ImportService } from '../../../../shared/services/import.service';\r\nimport { SellService } from '../../../../shared/services/sell.service';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\n\n@Component({\n\tselector:'app-journals',\n\ttemplateUrl: './app.journals.component.html',\n\tstyleUrls: ['./app.journals.component.min.css']\n})\nexport class AppJournalsComponent {\n    \n    journals: Journal[] = [];\n\n    busyId:number = -1;\n\n    currentUser:User;\n\n    exportMode: boolean = false;\n    isXml: boolean = false;    \n\n    constructor(private accountService: AccountService, private journalsService: JournalsService,\n        private router: Router, private sellService: SellService,\n        private exportService: ExportService, private importService: ImportService) { }\n\n    ngOnInit() {\n        if (this.accountService.currentUser) {\n            this.currentUser = this.accountService.currentUser;\n        }\n\n        this.accountService.currentUser$.subscribe(user => {\n            this.currentUser = user;            \n        });\n\n        this.journalsService.tryGetJournals().subscribe(journals => { this.journals = journals;});\n    }\n\n    public editJournalForm(id:number): void {\n        this.router.navigate(['/journals/put',id]);\n    }\n    public tryRemoveJournal(id: number): void {\n        this.busyId = id;\n        this.journalsService.tryRemoveJournal(id).subscribe(resp => {\n            if (resp.ok) {\n                this.journals.forEach((value:any, index, array) => {\n                    if (value.id === id) {\n                        this.journals.splice(index,1);\n                    }\n                });\n            }\n        });\n    }\n    public addToBasket(id: number): void {\n        this.busyId = id;\n        this.sellService.tryAddToBasket(id, 2).subscribe(resp => {\n            if (resp.ok) {\n                this.busyId = -1;\n            }\n        });\n    }\n\n    public switchExportMode(): void {\n        this.exportMode = !this.exportMode;\n    }\n\n    public tryExport(): void {\n        var ids: number[] = [];\n        this.journals.forEach((value: any, index, array) => {\n            if (value.selected) {\n                ids.push(value.id);\n            }\n        });\n        this.exportService.tryExportItems(2, ids, this.isXml);\n    }\n\n    public importChange(files: any): void {\n        if (files && files[0]) {\n            const formData = new FormData();\n            formData.append(\"import\", files[0]);\n            this.importService.tryImport(formData).subscribe(res => {\n                this.journalsService.tryGetJournals().subscribe(journals => this.journals = journals);\n                alert(\"Import \" + res.status);                \n            });\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/journals/app.journals.component.ts","module.exports = \"<div class=\\\"windows-container\\\">\\n    <div class=\\\"windows-grid\\\">        \\n        <div class=\\\"window centered window-put\\\">\\n            <div class=\\\"window-header\\\">\\n                <div class=\\\"window-header-icon\\\">\\n                    <span class=\\\"icon ic-addjournal\\\"></span>\\n                </div>                \\n                <div class=\\\"window-header-content\\\">\\n                    <h4 [hidden]=\\\"!isEdit\\\">Edit journal</h4>\\n                    <h4 [hidden]=\\\"isEdit\\\">Create journal</h4>\\n                </div>                \\n            </div>\\n            <div class=\\\"window-content\\\">                                                           \\n                <form name=\\\"journalForm\\\">\\n                    <table class=\\\"form-table\\\">\\n                        <tr>\\n                            <td>                                    \\n                                <div class=\\\"choose-photo\\\" (click)=\\\"uploadFile.click()\\\" [ngStyle]=\\\"{ 'background-image': 'url(' + currentPhotoPath + ')'}\\\" id=\\\"journal-photo\\\">\\n                                    <h5>Click for choose photo</h5>\\n                                </div>\\n                            </td>\\n                            <td>\\n                                <label>Title</label>\\n                                <input type=\\\"text\\\" placeholder=\\\"Enter title\\\" name=\\\"title\\\" [(ngModel)]=\\\"currentJournal.title\\\" required/>                                    \\n                                <label>Amount</label>\\n                                <input type=\\\"text\\\" placeholder=\\\"Enter amount\\\" name=\\\"amount\\\" [(ngModel)]=\\\"currentJournal.amount\\\" required/>\\n                                <label>Price</label>\\n                                <input type=\\\"text\\\" placeholder=\\\"Enter price\\\" name=\\\"price\\\" [(ngModel)]=\\\"currentJournal.price\\\" required/>\\n                            </td>\\n                        </tr>    \\n                        <tr>\\n                            <td colspan=\\\"2\\\" class=\\\"td-divider\\\">\\n                                <hr/>\\n                                <label>Additional info</label>\\n                            </td>\\n                        </tr>\\n                        <tr>\\n                            <td colspan=\\\"2\\\">\\n                                <table class=\\\"create-form-table\\\">\\n                                    <tr>\\n                                        <th><label>Date</label></th>\\n                                        <th><label>Pages</label></th>\\n                                    </tr>\\n                                    <tr>\\n                                        <td><input type=\\\"text\\\" placeholder=\\\"Enter date\\\" name=\\\"date\\\" [(ngModel)]=\\\"currentJournal.date\\\" required/></td>\\n                                        <td><input type=\\\"text\\\" placeholder=\\\"Enter pages\\\" name=\\\"pages\\\" [(ngModel)]=\\\"currentJournal.pages\\\" required/></td>\\n                                    </tr>\\n                                    <tr>\\n                                        <th><label>Periodicity</label></th>\\n                                        <th><label>Theme</label></th>\\n                                    </tr>\\n                                    <tr>                                            \\n                                        <td><input type=\\\"text\\\" placeholder=\\\"Enter periodicity\\\" name=\\\"periodicity\\\" [(ngModel)]=\\\"currentJournal.periodicity\\\" required /></td>\\n                                        <td><input type=\\\"text\\\" placeholder=\\\"Enter theme\\\" name=\\\"theme\\\" [(ngModel)]=\\\"currentJournal.theme\\\" required/></td>\\n                                    </tr>\\n                                </table>\\n                            </td>\\n                        </tr>\\n                    </table>\\n                                                                                                \\n                    <input type=\\\"file\\\" name=\\\"upload\\\" #uploadFile (change)=\\\"uploadPhotoChange(uploadFile.files)\\\" id=\\\"uploadFile\\\" style=\\\"display: none\\\"/>\\n                   \\n                    <input type=\\\"submit\\\" id=\\\"addJournalBtn\\\" class=\\\"btn btn-colored\\\" value=\\\"Complete\\\" (click)=\\\"tryAddJournal()\\\" [hidden]=\\\"isEdit\\\" [disabled]=\\\"!photoUploaded\\\">\\n                    <input type=\\\"submit\\\" id=\\\"editJournalBtn\\\" class=\\\"btn btn-colored\\\" value=\\\"Complete\\\" (click)=\\\"tryEditJournal()\\\" [hidden]=\\\"!isEdit\\\" [disabled]=\\\"!photoUploaded\\\">\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/put/app.journals.put.component.html\n// module id = ../../../../../src/app/modules/journals/components/put/app.journals.put.component.html\n// module chunks = journals.module","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/put/app.journals.put.component.min.css\n// module id = ../../../../../src/app/modules/journals/components/put/app.journals.put.component.min.css\n// module chunks = journals.module","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router'\nimport { JournalsService } from '../../../../shared/services/journals.service';\r\n\n@Component({\n    selector: 'app-journals-put',\n    templateUrl: './app.journals.put.component.html',\n    styleUrls: ['./app.journals.put.component.min.css']\n})\nexport class AppJournalsPutComponent {\n\n    public photoUploaded:boolean = true;\n    public currentPhotoPath: string = \"/Upload/Images/no-photo-e.png\";\n\n    private idSubscriber: any;\n    \n    isEdit:boolean;\n    idForEdit: number;\n\n    public currentJournal: Journal = {\n        Id: -1,        \n        Title: '',\n        Date: '',\n        Theme: '',\n        Periodicity: '',        \n        Amount: '',\n        Price: '',\n        PhotoPath: ''\n    };\n\n    constructor(private journalsService: JournalsService, private router: Router, private route: ActivatedRoute) {  }\n\n    ngOnInit() {\n        this.idSubscriber=this.route.params.subscribe(params => {\n            this.idForEdit = +params['id'];\n            if (this.idForEdit && this.idForEdit > -1) {\n                this.isEdit = true;\n                this.journalsService.tryGetJournal(this.idForEdit).subscribe(journal => { this.currentJournal = journal;\n                    this.currentPhotoPath = journal.PhotoPath;\n                });\n                \n            } else {\n                this.isEdit = false;\n            }\n        });        \n    }    \n\n    public uploadPhotoChange(files: any): void {\n        this.photoUploaded = false;\n        if (files && files[0]) {\n            const formData = new FormData();\n            formData.append(\"image\", files[0]);\n            this.journalsService.uploadPhoto(formData).subscribe(res => {\n                this.currentPhotoPath = res.Path;\n                this.currentJournal.PhotoPath = res.Path;                \n                this.photoUploaded = true;\n            });  \n        }   \n        else { this.photoUploaded = true;}\n    }\n\n    public tryAddJournal(): void {\n        this.journalsService.tryAddJournal(this.currentJournal).subscribe(resp => {\n            if (resp.ok) {\n                this.router.navigateByUrl('/journals');\n            }\n        });\n    }\n    public tryEditJournal(): void {\n    this.journalsService.tryEditJournal(this.currentJournal).subscribe(resp => {\n        if (resp.ok) {\n            this.router.navigateByUrl('/journals');\n        }\n    });\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/components/put/app.journals.put.component.ts","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AppJournalsComponent } from './components/journals/app.journals.component';\r\nimport { AppJournalsPutComponent } from './components/put/app.journals.put.component';\r\n\r\nexport const routes: Routes = [\r\n    { path: '', component: AppJournalsComponent },\r\n    { path: 'put', component: AppJournalsPutComponent },\r\n    { path: 'put/:id', component: AppJournalsPutComponent }\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppJournalsComponent,\r\n        AppJournalsPutComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        RouterModule.forChild(routes)\r\n    ],\r\n})\r\nexport class JournalsModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Anuitex-85/Desktop/CLI/2/Angular4Library/src/app/modules/journals/journals.module.ts"],"sourceRoot":"webpack:///"}